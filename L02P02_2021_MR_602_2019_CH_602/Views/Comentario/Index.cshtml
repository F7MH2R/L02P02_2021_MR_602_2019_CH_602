@model List<L02P02_2021_MR_602_2019_CH_602.Models.Comentarios_libros>

@{
    ViewData["Title"] = "Ver Comentarios";
}

<h1>Comentarios del Libro</h1>

<div>
    <p>Autor: @ViewBag.AuthorName</p>
    <p>Libro: @ViewBag.BookName</p>
</div>


<div>
    <h2>Comentarios Existentes</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Usuario</th>
                <th>Comentario</th>
                <th>Fecha</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var comentario in Model)
            {
                <tr>
                    <td>@comentario.usuario</td>
                    <td>@comentario.comentarios</td>
                    <td>@comentario.created_at</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<div>
    <h2>Agregar Comentario</h2>
    <form asp-action="GuardarComentario" method="post">
        <input type="hidden" name="id_libro" value="@ViewBag.LibroId" />
        <div class="form-group">
            <label for="usuario">Usuario:</label>
            <input type="text" class="form-control" id="usuario" name="usuario" required />
        </div>
        <div class="form-group">
            <label for="comentario">Comentario:</label>
            <textarea class="form-control" id="comentario" name="comentarios" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Guardar Comentario</button>
    </form>
</div>
